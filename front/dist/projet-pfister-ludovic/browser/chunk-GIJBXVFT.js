import{i as _,o as w}from"./chunk-A2WCNDTO.js";import{a as y,c as b,d as v,e as L,f as N,g as E,n as W,p as I}from"./chunk-NPZKDYSZ.js";import{d as S,h}from"./chunk-QBIJVOJ4.js";import"./chunk-BPMLG3PT.js";import{m as C}from"./chunk-SDRDLNE6.js";import{Aa as r,Ja as s,Oa as f,ab as o,bb as i,ib as M,pb as a,qb as m,tb as l,ub as p,vb as d}from"./chunk-4TET6FDT.js";var R=class g{constructor(u,n){this.store=u;this.router=n}form={email:"",password:""};errorMessage="";successMessage="";login(){this.store.dispatch(new w(this.form)).subscribe({next:()=>{this.router.navigate(["/dashboard"])},error:()=>{this.errorMessage="Connexion impossible \u274C"}})}static \u0275fac=function(n){return new(n||g)(s(_),s(S))};static \u0275cmp=f({type:g,selectors:[["app-login"]],decls:11,vars:4,consts:[[3,"ngSubmit"],["type","email","placeholder","Email","name","email","required","",3,"ngModelChange","ngModel"],["type","password","placeholder","Mot de passe","name","password","required","",3,"ngModelChange","ngModel"],["type","submit"],[2,"color","green"],[2,"color","red"]],template:function(n,e){n&1&&(o(0,"h2"),a(1,"Connexion"),i(),o(2,"form",0),M("ngSubmit",function(){return e.login()}),o(3,"input",1),d("ngModelChange",function(t){return p(e.form.email,t)||(e.form.email=t),t}),i(),o(4,"input",2),d("ngModelChange",function(t){return p(e.form.password,t)||(e.form.password=t),t}),i(),o(5,"button",3),a(6,"Se connecter"),i()(),o(7,"p",4),a(8),i(),o(9,"p",5),a(10),i()),n&2&&(r(3),l("ngModel",e.form.email),r(),l("ngModel",e.form.password),r(4),m(e.successMessage),r(2),m(e.errorMessage))},dependencies:[C,I,E,y,b,v,W,N,L,h],encapsulation:2})};export{R as LoginComponent};
