import{C as l,Q as s,a as r,b as u,m as i}from"./chunk-4TET6FDT.js";var a=class n{mockPollutions=[{id:1,titre:"D\xE9chets plastiques sur la plage",type:"Plastique",description:"Grande quantit\xE9 de d\xE9chets plastiques observ\xE9s sur la plage",dateObservation:"2024-12-01",lieu:"Plage de Strasbourg",latitude:48.5734,longitude:7.7521,photoUrl:"https://images.unsplash.com/photo-1621451537084-482c73073a0f?w=500",auteur:"Marie Dupont"},{id:2,titre:"Pollution chimique rivi\xE8re",type:"Chimique",description:"D\xE9versement suspect dans la rivi\xE8re, eau avec couleur anormale",dateObservation:"2024-11-28",lieu:"Rivi\xE8re Ill, Strasbourg",latitude:48.5839,longitude:7.7455,auteur:"Jean Martin"},{id:3,titre:"D\xE9p\xF4t sauvage en for\xEAt",type:"D\xE9p\xF4t sauvage",description:"Plusieurs sacs poubelles et encombrants abandonn\xE9s",dateObservation:"2024-11-25",lieu:"For\xEAt de la Robertsau",latitude:48.6047,longitude:7.7869,photoUrl:"https://images.unsplash.com/photo-1530587191325-3db32d826c18?w=500",auteur:"Sophie Lambert"}];nextId=4;getAllPollutions(){return i(this.mockPollutions).pipe(l(500))}getPollutionById(e){let t=this.mockPollutions.find(o=>o.id===e);return i(t).pipe(l(300))}createPollution(e){let t=u(r({},e),{id:this.nextId++});return this.mockPollutions.push(t),i(t).pipe(l(500))}updatePollution(e,t){let o=this.mockPollutions.findIndex(p=>p.id===e);return o!==-1?(this.mockPollutions[o]=r(r({},this.mockPollutions[o]),t),i(this.mockPollutions[o]).pipe(l(500))):i(t)}deletePollution(e){return this.mockPollutions=this.mockPollutions.filter(t=>t.id!==e),i(void 0).pipe(l(500))}searchPollutions(e){let t=this.mockPollutions;return e.type&&(t=t.filter(o=>o.type===e.type)),e.titre&&(t=t.filter(o=>o.titre.toLowerCase().includes(e.titre.toLowerCase()))),e.lieu&&(t=t.filter(o=>o.lieu.toLowerCase().includes(e.lieu.toLowerCase()))),i(t).pipe(l(500))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=s({token:n,factory:n.\u0275fac,providedIn:"root"})};export{a};
